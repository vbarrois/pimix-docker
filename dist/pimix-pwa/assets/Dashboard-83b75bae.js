var H=Object.defineProperty;var I=(t,o,e)=>o in t?H(t,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):t[o]=e;var u=(t,o,e)=>(I(t,typeof o!="symbol"?o+"":o,e),e);import{r as V,R as T,a as x,l as y,O as f,V as h,u as $,s as v,f as q,_ as g,b as w,o as i,c,w as S,d,F as D,e as M,t as p,g as L,h as F,i as N,j as _,k as R,m as B,n as m}from"./index-4710a073.js";const G=t=>new Promise(o=>{x(`api/songs/last/${t}`).then(e=>{o(y.map(e.data,s=>s))}).catch(()=>{o([])})}),k=t=>new Promise(o=>{x(`api/log/mostplayed/${t}`).then(e=>{o(y.map(e.data,s=>s))}).catch(()=>{o([])})}),J=t=>new Promise(o=>{x(`api/log/mostswipped/${t}`).then(e=>{o(y.map(e.data,s=>s))}).catch(()=>{o([])})}),K=t=>new Promise(o=>{x(`api/log/mostlistened/${t}`).then(e=>{o(y.map(e.data,s=>s))}).catch(()=>{o([])})}),Q=t=>new Promise(o=>{x(`api/log/lastplayed/${t}`).then(e=>{o(y.map(e.data,s=>s))}).catch(()=>{o([])})}),b=()=>{const t=V({lastadded:[],lastplayed:[],mostplayed:[],mostlistened:[],mostswipped:[]});async function o(n){t.lastadded=await G(n)}async function e(n){t.mostplayed=await k(n)}async function s(n){t.mostswipped=await J(n)}async function r(n){t.mostlistened=await K(n)}async function a(n){t.lastplayed=await Q(n)}return{controller:t,getLastAdded:o,getMostPlayed:e,getMostSwipped:s,getMostListened:r,getLastPlayed:a,getCover:n=>`${T}/api/song/cover/${n}`}};var U=Object.defineProperty,W=Object.getOwnPropertyDescriptor,X=(t,o,e,s)=>{for(var r=s>1?void 0:s?W(o,e):o,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(s?l(o,e,r):l(r))||r);return s&&r&&U(o,e,r),r};let C=class extends h{constructor(){super(...arguments);u(this,"appStore",$());u(this,"controller",v(()=>b()))}mounted(){}created(){this.controller.getLastAdded(8)}getLastAddedCover(){const e=this.controller.controller.lastadded[0];if(e)return this.controller.getCover(e.id)}formatDate(e){return q(e,!0)}gotoIDCard(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}};C=X([f({})],C);const Z={class:"max-w w-full lg:max-w-full lg:flex"},ee={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl lg:rounded-tr-none rounded-bl-none lg:rounded-bl-3xl text-center overflow-hidden"},te={class:"truncate w-full bg-white bg-opacity-80 p-4"},oe=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les derniers ajoutés",-1),re=["onClick"],se={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function le(t,o,e,s,r,a){const l=w("lazy");return i(),c("div",Z,[S(d("div",ee,null,512),[[l,t.getLastAddedCover()]]),d("div",te,[oe,(i(!0),c(D,null,M(t.controller.controller.lastadded,n=>(i(),c("div",{key:n.id,class:"truncate",role:"button",onClick:P=>t.gotoIDCard(n)},[d("span",se,p(t.formatDate(n.createdAt)),1),L(" "+p(n.title),1)],8,re))),128))])])}const ne=g(C,[["render",le]]);var z={},ae={get exports(){return z},set exports(t){z=t}};(function(t,o){(function(e,s){t.exports=s(F)})(N,function(e){function s(l){return l&&typeof l=="object"&&"default"in l?l:{default:l}}var r=s(e),a={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(l){return""+l+(l===1?"er":"")}};return r.default.locale(a,null,!0),a})})(ae);var de=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,ce=(t,o,e,s)=>{for(var r=s>1?void 0:s?ie(o,e):o,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(s?l(o,e,r):l(r))||r);return s&&r&&de(o,e,r),r};let j=class extends h{constructor(){super(...arguments);u(this,"controller",v(()=>b()));u(this,"appStore",$())}mounted(){_.locale("fr")}created(){this.controller.getMostPlayed(8)}getMostPlayedCover(){const e=this.controller.controller.mostplayed[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return _(e).format("D MMM YY")}};j=ce([f({})],j);const ue={class:"max-w w-full lg:max-w-full lg:flex"},pe={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},_e={class:"truncate w-full bg-white bg-opacity-80 p-4"},me=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les plus joués",-1),fe=["onClick"],he={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function ve(t,o,e,s,r,a){const l=w("lazy");return i(),c("div",ue,[S(d("div",pe,null,512),[[l,t.getMostPlayedCover()]]),d("div",_e,[me,(i(!0),c(D,null,M(t.controller.controller.mostplayed,n=>(i(),c("div",{key:n.id,class:"truncate",role:"button",onClick:P=>t.gotoSong(n)},[d("span",he,p(n.count)+"x",1),L(" "+p(n.title),1)],8,fe))),128))])])}const ge=g(j,[["render",ve]]);var be=Object.defineProperty,xe=Object.getOwnPropertyDescriptor,ye=(t,o,e,s)=>{for(var r=s>1?void 0:s?xe(o,e):o,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(s?l(o,e,r):l(r))||r);return s&&r&&be(o,e,r),r};let O=class extends h{constructor(){super(...arguments);u(this,"controller",v(()=>b()));u(this,"appStore",$())}mounted(){_.locale("fr")}created(){this.controller.getMostSwipped(8)}getMostSwippedCover(){const e=this.controller.controller.mostswipped[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return _(e).format("D MMM YY")}};O=ye([f({})],O);const $e={class:"max-w w-full lg:max-w-full lg:flex"},we={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},Se={class:"truncate w-full bg-white bg-opacity-80 p-4"},De=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les plus zappés",-1),Me=["onClick"],Le={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function Pe(t,o,e,s,r,a){const l=w("lazy");return i(),c("div",$e,[S(d("div",we,null,512),[[l,t.getMostSwippedCover()]]),d("div",Se,[De,(i(!0),c(D,null,M(t.controller.controller.mostswipped,n=>(i(),c("div",{key:n.id,class:"truncate",role:"button",onClick:P=>t.gotoSong(n)},[d("span",Le,p((n.playratio*100).toFixed(0).padStart(2,"0"))+"%",1),L(" "+p(n.title),1)],8,Me))),128))])])}const Ce=g(O,[["render",Pe]]);var je=Object.defineProperty,Oe=Object.getOwnPropertyDescriptor,Ye=(t,o,e,s)=>{for(var r=s>1?void 0:s?Oe(o,e):o,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(s?l(o,e,r):l(r))||r);return s&&r&&je(o,e,r),r};let Y=class extends h{constructor(){super(...arguments);u(this,"controller",v(()=>b()));u(this,"appStore",$())}mounted(){_.locale("fr")}created(){this.controller.getMostListened(10)}getMostListenedCover(){const e=this.controller.controller.mostlistened[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return _(e).format("D MMM YY")}};Y=Ye([f({})],Y);const Ae={class:"max-w w-full lg:max-w-full lg:flex"},Ee={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},ze={class:"truncate w-full bg-white bg-opacity-80 p-4"},qe=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les mieux écoutés",-1),He=["onClick"],Ie={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function Ve(t,o,e,s,r,a){const l=w("lazy");return i(),c("div",Ae,[S(d("div",Ee,null,512),[[l,t.getMostListenedCover()]]),d("div",ze,[qe,(i(!0),c(D,null,M(t.controller.controller.mostlistened,n=>(i(),c("div",{key:n.id,class:"truncate",role:"button",onClick:P=>t.gotoSong(n)},[d("span",Ie,p((n.playratio*100).toFixed(0).padStart(2,"0"))+"%",1),L(" "+p(n.title),1)],8,He))),128))])])}const Te=g(Y,[["render",Ve]]);var Fe=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,Re=(t,o,e,s)=>{for(var r=s>1?void 0:s?Ne(o,e):o,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(s?l(o,e,r):l(r))||r);return s&&r&&Fe(o,e,r),r};let A=class extends h{constructor(){super(...arguments);u(this,"controller",v(()=>b()));u(this,"appStore",$())}mounted(){}created(){this.controller.getLastPlayed(8)}getLastPlayedCover(){const o=this.controller.controller.lastplayed[0];if(o)return this.controller.getCover(o.id)}gotoSong(o){this.appStore.isSelectionActive||this.appStore.openSongIDCard(o)}formatDate(o){return q(o,!0)}};A=Re([f({})],A);const Be={class:"max-w w-full lg:max-w-full lg:flex"},Ge={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},ke={class:"truncate w-full bg-white bg-opacity-80 p-4"},Je=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les derniers écoutés",-1),Ke=["onClick"],Qe={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function Ue(t,o,e,s,r,a){const l=w("lazy");return i(),c("div",Be,[S(d("div",Ge,null,512),[[l,t.getLastPlayedCover()]]),d("div",ke,[Je,(i(!0),c(D,null,M(t.controller.controller.lastplayed,n=>(i(),c("div",{key:n.id,class:"truncate",role:"button",onClick:P=>t.gotoSong(n)},[d("span",Qe,p(t.formatDate(n.playedDate)),1),L(" "+p(n.title),1)],8,Ke))),128))])])}const We=g(A,[["render",Ue]]);var Xe=Object.defineProperty,Ze=Object.getOwnPropertyDescriptor,et=(t,o,e,s)=>{for(var r=s>1?void 0:s?Ze(o,e):o,a=t.length-1,l;a>=0;a--)(l=t[a])&&(r=(s?l(o,e,r):l(r))||r);return s&&r&&Xe(o,e,r),r};let E=class extends h{constructor(){super(...arguments);u(this,"controller",v(()=>b()))}mounted(){_.locale("fr")}created(){}formatDate(e){return _(e).format("D MMM YY")}};E=et([f({})],E);const tt={class:"max-w w-full lg:max-w-full lg:flex truncate"},ot=R('<div class="border border-gray-400 lg:border-gray-400 bg-white rounded-b rounded-md p-4 flex flex-col justify-between leading-normal w-full"><div class="mb-0"><div class="text-gray-900 font-bold text-xl mb-2">Statistiques</div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">221</span> Morceaux </div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">21</span> Artistes </div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">17</span> Genres </div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">2 jours 21 minutes 36 secondes</span> Total musique </div></div></div>',1),rt=[ot];function st(t,o,e,s,r,a){return i(),c("div",tt,rt)}const lt=g(E,[["render",st]]),nt={class:"grid grid-cols-1 xl:grid-cols-2 gap-2 px-2"},mt=B({__name:"Dashboard",setup(t){return(o,e)=>(i(),c("div",nt,[m(Te),m(ne),m(ge),m(Ce),m(We),m(lt)]))}});export{mt as default};
