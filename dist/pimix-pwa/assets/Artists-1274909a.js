var E=Object.defineProperty;var L=(e,t,s)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var f=(e,t,s)=>(L(e,typeof t!="symbol"?t+"":t,s),s);import{O as I,z as N,a9 as T,a0 as K,_ as F,V as B,s as D,a5 as k,p as _,o as n,c,n as g,d as r,t as p,a3 as U,M as G,w as P,a6 as x,F as h,e as y,q as S,y as b,u as M,N as V,U as j}from"./index-29bcaaf6.js";import{O as z}from"./OptionsIcon-bdc80d17.js";import{S as R}from"./SortFiltertBar-8a3f8e64.js";var q=Object.defineProperty,H=Object.getOwnPropertyDescriptor,J=(e,t,s,a)=>{for(var o=a>1?void 0:a?H(t,s):t,d=e.length-1,i;d>=0;d--)(i=e[d])&&(o=(a?i(t,s,o):i(o))||o);return a&&o&&q(t,s,o),o};let A=class extends B{constructor(){super(...arguments);f(this,"controller",D(()=>k()));f(this,"artist")}gotoArtist(){const t=this.artist;this.$router.push({name:"artist",params:{artistids:t.id}})}toggleArtist(){this.controller.saveArtistState(this.artist)}};A=J([I({props:{artist:Object},components:{Toggle:N,StatsGroup:T,ArtistIcon:K}})],A);const Q=A,W={class:"flex flex-col pl-2 pr-2 flex-1 min-w-0"},X={class:"text-left md:text-xl font-bold truncate"},Y={class:"text-left flex truncate justify-between"},Z={class:"flex gap-1 __badge__label"};function ee(e,t,s,a,o,d){const i=_("ArtistIcon"),v=_("StatsGroup"),$=_("Toggle");return n(),c("div",{class:"flex p-2",onClick:t[1]||(t[1]=u=>e.gotoArtist())},[g(i),r("div",W,[r("span",X,p(e.artist.name),1),r("span",Y,[r("span",Z,[r("span",null,p(e.artist.yearfrom)+" - "+p(e.artist.yearto),1)])]),g(v,{group:e.artist,reduced:"true"},null,8,["group"])]),r("div",null,[(n(),U($,{key:e.artist.state,modelValue:e.artist.state,"onUpdate:modelValue":t[0]||(t[0]=u=>e.artist.state=u),"true-value":"1","false-value":"0","on-label":"ON","off-label":"OFF",class:"float-right ml-1 mt-4 mb-1 custom-control",onClick:G(e.toggleArtist,["stop"])},null,8,["modelValue","onClick"]))])])}const te=F(Q,[["render",ee]]);var oe=Object.defineProperty,se=Object.getOwnPropertyDescriptor,re=(e,t,s,a)=>{for(var o=a>1?void 0:a?se(t,s):t,d=e.length-1,i;d>=0;d--)(i=e[d])&&(o=(a?i(t,s,o):i(o))||o);return a&&o&&oe(t,s,o),o};let w=class extends B{constructor(){super(...arguments);f(this,"controller",D(()=>k()));f(this,"appStore",M())}created(){this.controller.initFromCookie("artists"),this.controller.getList()}unmounted(){this.controller.saveCookie("artists")}only(t){this.controller.setOnly(t)}except(t){this.controller.setAllExcept(t)}togglePopup(t){this.appStore.openPopupProperties([{label:`${this.$t("library.filtering.only")} ${t.name}`,icon:V(()=>j(()=>import("./OnlyIcon-86fbede4.js"),["assets/OnlyIcon-86fbede4.js","assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.only(t)}},{label:`${this.$t("library.filtering.allexcept")} ${t.name}`,icon:V(()=>j(()=>import("./AllExcept-52c30c7d.js"),["assets/AllExcept-52c30c7d.js","assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.except(t)}}])}};w=re([I({components:{ArtistCard:te,SortFilterBar:R,OptionsIcon:z}})],w);const le=w,ne={class:"flex flex-col w-full"},ae={class:"flex justify-center py-1 gap-1 __container__navigation"},ie={class:"__badge__label2"},ce={class:"__badge__label2"},pe={class:"__badge__label2"},de={key:0,class:"flex justify-center ml-auto mr-auto md:w-[50%] mt-1 mb-1 text-[color:var(--font--button)]"},_e={class:"inline-flex w-[70px] rounded-l-md justify-end px-2 __field__label"},ue=["value"],me={key:0,class:"hidden md:inline-flex w-[140px] justify-end px-2 __field__label whitespace-nowrap"},fe=["value"],ge=["onClick"];function ve(e,t,s,a,o,d){var u,O,C;const i=_("SortFilterBar"),v=_("ArtistCard"),$=_("OptionsIcon");return n(),c("div",ne,[r("div",ae,[r("span",ie,p((u=e.controller)==null?void 0:u.total)+" artistes",1),r("span",ce,p((O=e.controller)==null?void 0:O.active)+" actifs",1),r("span",pe,p((C=e.controller)==null?void 0:C.activesongs)+" morceaux",1)]),g(i,{navigator:e.controller.navigator},null,8,["navigator"]),e.controller.isFiltered?b("",!0):(n(),c("div",de,[r("span",_e,p(e.$t("library.filtering.sort.page")),1),P(r("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.controller.pageIndex=l),class:S(["w-[80px] md:w-[140px] __select__field",{"rounded-r-md":e.controller.sortKey=="name"}])},[(n(!0),c(h,null,y(e.controller.pages,(l,m)=>(n(),c("option",{key:`page-${m}`,value:m},p(l),9,ue))),128))],2),[[x,e.controller.pageIndex]]),e.controller.sortKey!="name"?(n(),c("span",me,p(e.$t("library.filtering.sort.itemsperpage")),1)):b("",!0),e.controller.sortKey!="name"?P((n(),c("select",{key:1,"onUpdate:modelValue":t[1]||(t[1]=l=>e.controller.perPage=l),class:"w-[90px] md:w-[140px] __select__field rounded-r-md"},[(n(),c(h,null,y([10,20,50,100],(l,m)=>r("option",{key:`itemsperpage-${m}`,value:l},p(l),9,fe)),64))],512)),[[x,e.controller.perPage]]):b("",!0)])),(n(),c("div",{key:`list-${e.controller.sortKey}`,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 p-1 gap-1 __container__list"},[(n(!0),c(h,null,y(e.controller.getListByPage(),l=>(n(),c("div",{key:`${l.id}`,class:S(["flex",{disabled:l.state==0}])},[g(v,{class:"truncate w-full __card rounded-l-xl",artist:l},null,8,["artist"]),r("div",{class:"flex __icon__action rounded-r-xl items-center",onClick:m=>e.togglePopup(l)},[g($)],8,ge)],2))),128))]))])}const Ae=F(le,[["render",ve]]);export{Ae as default};
