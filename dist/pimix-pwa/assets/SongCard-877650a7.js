var V=Object.defineProperty;var C=(e,o,n)=>o in e?V(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var u=(e,o,n)=>(C(e,typeof o!="symbol"?o+"":o,n),n);import{O as q,S as D,I as B,L as A,P as T,_ as j,V as R,s as x,A as F,u as M,C as Q,l as h,N as p,H as z,p as s,b as H,o as i,c as f,d as a,w as J,y as r,t as v,a3 as l,n as I,M as U,U as d}from"./index-29bcaaf6.js";import{O as G}from"./OptionsIcon-bdc80d17.js";import{a as K,S as W,B as X,F as Y,P as Z,N as ee}from"./NotLikedIcon-07bbc64f.js";var oe=Object.defineProperty,te=Object.getOwnPropertyDescriptor,ne=(e,o,n,t)=>{for(var c=t>1?void 0:t?te(o,n):o,_=e.length-1,m;_>=0;_--)(m=e[_])&&(c=(t?m(o,n,c):m(c))||c);return t&&c&&oe(o,n,c),c};let g=class extends R{constructor(){super(...arguments);u(this,"controller",x(()=>F()));u(this,"song");u(this,"queueitem");u(this,"playlist");u(this,"appStore",M());u(this,"queueStore",Q())}created(){var o,n;h.isNil((o=this.currentSong)==null?void 0:o.id)||this.controller.loadInfos((n=this.currentSong)==null?void 0:n.id)}get currentSong(){var o;return h.isNil((o=this.queueitem)==null?void 0:o.song)?this.song:this.queueitem.song}get origin(){return h.isNil(this.queueitem)?"":this.queueitem.origin}getThumb(o){return this.controller.getThumb(o).src}togglePopup(){var n;let o=[];this.queueitem&&!((n=this.queueitem)!=null&&n.executed)&&o.push({label:`${this.$t("command.remove")}`,icon:p(()=>d(()=>import("./index-29bcaaf6.js").then(t=>t.ak),["assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.appStore.removeQueuedItem(this.queueitem.uuid)}}),this.playlist&&o.push({label:`${this.$t("command.remove")}`,icon:p(()=>d(()=>import("./index-29bcaaf6.js").then(t=>t.ak),["assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{z.emit("playlist",{action:"remove",song:this.controller.song})}}),this.appStore.openPopupProperties([...o,{label:this.$t("command.addqueue"),icon:p(()=>d(()=>import("./index-29bcaaf6.js").then(t=>t.ag),["assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.appStore.queueSong(this.controller.song)}},{label:this.$t("command.addnext"),icon:p(()=>d(()=>import("./index-29bcaaf6.js").then(t=>t.af),["assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.appStore.afterSong(this.controller.song)}},{label:this.$t("command.voteup"),icon:p(()=>d(()=>import("./index-29bcaaf6.js").then(t=>t.ai),["assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.appStore.voteSong(this.controller.song)}},{label:this.$t("command.playlistadd"),icon:p(()=>d(()=>import("./index-29bcaaf6.js").then(t=>t.ah),["assets/index-29bcaaf6.js","assets/index-bf39b48d.css"])),action:()=>{this.appStore.openQuickPlaylist(this.controller.song)}}])}};g=ne([q({props:{song:Object,queueitem:Object,playlist:Object},components:{SongCategories:D,NoteIcon:K,ShuffleIcon:W,BrainIcon:X,VoteIcon:B,LikeOnIcon:A,PlaylistIcon:T,ForgotIcon:Y,PreferedIcon:Z,NotLikedIcon:ee,OptionsIcon:G}})],g);const se=g,ie={class:"flex relative h-full items-center"},re={class:"w-12 h-12 md:w-20 md:h-20 rounded my-auto"},ae={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-12 h-12 md:w-20 md:h-20 rounded-bl-[30px] rounded-tr-[30px] bg-[color:var(--font--active--transparent)] text-[color:var(--font--light)] absolute"},le=a("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),ce=[le],ue={class:"flex flex-col pl-2 pr-2 flex-1 min-w-0"},pe={class:"grid grid-cols-1"},de={class:"text-left md:text-xl font-bold truncate"},me={class:"hidden md:block text-left truncate"},_e={class:"flex gap-1"},he={class:"hidden md:block"};function ge(e,o,n,t,c,_){const m=s("NoteIcon"),S=s("LikeOnIcon"),y=s("ShuffleIcon"),k=s("PreferedIcon"),b=s("NotLikedIcon"),P=s("ForgotIcon"),O=s("BrainIcon"),w=s("VoteIcon"),L=s("PlaylistIcon"),$=s("SongCategories"),E=s("OptionsIcon"),N=H("lazy");return i(),f("div",{ref:`songcard-${e.currentSong.id}`,class:"relative flex p-2 __card"},[a("div",ie,[J(a("img",re,null,512),[[N,e.getThumb(e.currentSong.id)]]),e.appStore.isSongSelected(e.currentSong)?(i(),f("svg",ae,ce)):r("",!0)]),a("div",ue,[a("div",pe,[a("span",de,v(e.controller.title),1),a("span",me,v(e.controller.album),1)]),a("span",_e,[a("div",he,[e.origin=="DJ"?(i(),l(m,{key:0,class:"w-5 h-5"})):r("",!0),e.origin=="favorites"?(i(),l(S,{key:1,class:"w-5 h-5"})):r("",!0),e.origin=="shuffle"?(i(),l(y,{key:2})):r("",!0),e.origin=="safelike"?(i(),l(k,{key:3})):r("",!0),e.origin=="probablynotliked"?(i(),l(b,{key:4})):r("",!0),e.origin=="forgot"?(i(),l(P,{key:5})):r("",!0),e.origin=="discover"?(i(),l(O,{key:6})):r("",!0),e.origin=="vote"?(i(),l(w,{key:7})):r("",!0),e.origin=="playlist"?(i(),l(L,{key:8})):r("",!0)]),I($,{reduced:"true",song:e.controller.song},null,8,["song"])])]),a("div",{class:"flex rounded-none items-center",onClick:o[0]||(o[0]=U(fe=>e.togglePopup(e.song),["stop"]))},[I(E)])],512)}const ke=j(se,[["render",ge]]);export{ke as S};
