var H=Object.defineProperty;var I=(t,e,o)=>e in t?H(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var u=(t,e,o)=>(I(t,typeof e!="symbol"?e+"":e,o),o);import{r as V,R as T,a as x,l as y,O as f,_ as v,V as h,u as $,s as g,f as q,b as w,o as i,c,w as S,d,F as D,e as M,t as p,g as P,h as F,i as N,j as _,k as R,m as B,n as m}from"./index-29bcaaf6.js";const G=t=>new Promise(e=>{x(`api/songs/last/${t}`).then(o=>{e(y.map(o.data,s=>s))}).catch(()=>{e([])})}),k=t=>new Promise(e=>{x(`api/log/mostplayed/${t}`).then(o=>{e(y.map(o.data,s=>s))}).catch(()=>{e([])})}),J=t=>new Promise(e=>{x(`api/log/mostswipped/${t}`).then(o=>{e(y.map(o.data,s=>s))}).catch(()=>{e([])})}),K=t=>new Promise(e=>{x(`api/log/mostlistened/${t}`).then(o=>{e(y.map(o.data,s=>s))}).catch(()=>{e([])})}),Q=t=>new Promise(e=>{x(`api/log/lastplayed/${t}`).then(o=>{e(y.map(o.data,s=>s))}).catch(()=>{e([])})}),b=()=>{const t=V({lastadded:[],lastplayed:[],mostplayed:[],mostlistened:[],mostswipped:[]});async function e(l){t.lastadded=await G(l)}async function o(l){t.mostplayed=await k(l)}async function s(l){t.mostswipped=await J(l)}async function r(l){t.mostlistened=await K(l)}async function a(l){t.lastplayed=await Q(l)}return{controller:t,getLastAdded:e,getMostPlayed:o,getMostSwipped:s,getMostListened:r,getLastPlayed:a,getCover:l=>`http://${T}/api/song/cover/${l}`}};var U=Object.defineProperty,W=Object.getOwnPropertyDescriptor,X=(t,e,o,s)=>{for(var r=s>1?void 0:s?W(e,o):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(r=(s?n(e,o,r):n(r))||r);return s&&r&&U(e,o,r),r};let C=class extends h{constructor(){super(...arguments);u(this,"appStore",$());u(this,"controller",g(()=>b()))}mounted(){}created(){this.controller.getLastAdded(8)}getLastAddedCover(){const o=this.controller.controller.lastadded[0];if(o)return this.controller.getCover(o.id)}formatDate(o){return q(o,!0)}gotoIDCard(o){this.appStore.isSelectionActive||this.appStore.openSongIDCard(o)}};C=X([f({})],C);const Z=C,ee={class:"max-w w-full lg:max-w-full lg:flex"},te={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl lg:rounded-tr-none rounded-bl-none lg:rounded-bl-3xl text-center overflow-hidden"},oe={class:"truncate w-full bg-white bg-opacity-80 p-4"},re=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les derniers ajoutés",-1),se=["onClick"],ne={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function le(t,e,o,s,r,a){const n=w("lazy");return i(),c("div",ee,[S(d("div",te,null,512),[[n,t.getLastAddedCover()]]),d("div",oe,[re,(i(!0),c(D,null,M(t.controller.controller.lastadded,l=>(i(),c("div",{key:l.id,class:"truncate",role:"button",onClick:L=>t.gotoIDCard(l)},[d("span",ne,p(t.formatDate(l.createdAt)),1),P(" "+p(l.title),1)],8,se))),128))])])}const ae=v(Z,[["render",le]]);var z={},de={get exports(){return z},set exports(t){z=t}};(function(t,e){(function(o,s){t.exports=s(F)})(N,function(o){function s(n){return n&&typeof n=="object"&&"default"in n?n:{default:n}}var r=s(o),a={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(n){return""+n+(n===1?"er":"")}};return r.default.locale(a,null,!0),a})})(de);var ie=Object.defineProperty,ce=Object.getOwnPropertyDescriptor,ue=(t,e,o,s)=>{for(var r=s>1?void 0:s?ce(e,o):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(r=(s?n(e,o,r):n(r))||r);return s&&r&&ie(e,o,r),r};let j=class extends h{constructor(){super(...arguments);u(this,"controller",g(()=>b()));u(this,"appStore",$())}mounted(){_.locale("fr")}created(){this.controller.getMostPlayed(8)}getMostPlayedCover(){const e=this.controller.controller.mostplayed[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return _(e).format("D MMM YY")}};j=ue([f({})],j);const pe=j,_e={class:"max-w w-full lg:max-w-full lg:flex"},me={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},fe={class:"truncate w-full bg-white bg-opacity-80 p-4"},ve=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les plus joués",-1),he=["onClick"],ge={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function be(t,e,o,s,r,a){const n=w("lazy");return i(),c("div",_e,[S(d("div",me,null,512),[[n,t.getMostPlayedCover()]]),d("div",fe,[ve,(i(!0),c(D,null,M(t.controller.controller.mostplayed,l=>(i(),c("div",{key:l.id,class:"truncate",role:"button",onClick:L=>t.gotoSong(l)},[d("span",ge,p(l.count)+"x",1),P(" "+p(l.title),1)],8,he))),128))])])}const xe=v(pe,[["render",be]]);var ye=Object.defineProperty,$e=Object.getOwnPropertyDescriptor,we=(t,e,o,s)=>{for(var r=s>1?void 0:s?$e(e,o):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(r=(s?n(e,o,r):n(r))||r);return s&&r&&ye(e,o,r),r};let O=class extends h{constructor(){super(...arguments);u(this,"controller",g(()=>b()));u(this,"appStore",$())}mounted(){_.locale("fr")}created(){this.controller.getMostSwipped(8)}getMostSwippedCover(){const e=this.controller.controller.mostswipped[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return _(e).format("D MMM YY")}};O=we([f({})],O);const Se=O,De={class:"max-w w-full lg:max-w-full lg:flex"},Me={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},Pe={class:"truncate w-full bg-white bg-opacity-80 p-4"},Le=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les plus zappés",-1),Ce=["onClick"],je={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function Oe(t,e,o,s,r,a){const n=w("lazy");return i(),c("div",De,[S(d("div",Me,null,512),[[n,t.getMostSwippedCover()]]),d("div",Pe,[Le,(i(!0),c(D,null,M(t.controller.controller.mostswipped,l=>(i(),c("div",{key:l.id,class:"truncate",role:"button",onClick:L=>t.gotoSong(l)},[d("span",je,p((l.playratio*100).toFixed(0).padStart(2,"0"))+"%",1),P(" "+p(l.title),1)],8,Ce))),128))])])}const Ye=v(Se,[["render",Oe]]);var Ae=Object.defineProperty,Ee=Object.getOwnPropertyDescriptor,ze=(t,e,o,s)=>{for(var r=s>1?void 0:s?Ee(e,o):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(r=(s?n(e,o,r):n(r))||r);return s&&r&&Ae(e,o,r),r};let Y=class extends h{constructor(){super(...arguments);u(this,"controller",g(()=>b()));u(this,"appStore",$())}mounted(){_.locale("fr")}created(){this.controller.getMostListened(10)}getMostListenedCover(){const e=this.controller.controller.mostlistened[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return _(e).format("D MMM YY")}};Y=ze([f({})],Y);const qe=Y,He={class:"max-w w-full lg:max-w-full lg:flex"},Ie={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},Ve={class:"truncate w-full bg-white bg-opacity-80 p-4"},Te=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les mieux écoutés",-1),Fe=["onClick"],Ne={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function Re(t,e,o,s,r,a){const n=w("lazy");return i(),c("div",He,[S(d("div",Ie,null,512),[[n,t.getMostListenedCover()]]),d("div",Ve,[Te,(i(!0),c(D,null,M(t.controller.controller.mostlistened,l=>(i(),c("div",{key:l.id,class:"truncate",role:"button",onClick:L=>t.gotoSong(l)},[d("span",Ne,p((l.playratio*100).toFixed(0).padStart(2,"0"))+"%",1),P(" "+p(l.title),1)],8,Fe))),128))])])}const Be=v(qe,[["render",Re]]);var Ge=Object.defineProperty,ke=Object.getOwnPropertyDescriptor,Je=(t,e,o,s)=>{for(var r=s>1?void 0:s?ke(e,o):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(r=(s?n(e,o,r):n(r))||r);return s&&r&&Ge(e,o,r),r};let A=class extends h{constructor(){super(...arguments);u(this,"controller",g(()=>b()));u(this,"appStore",$())}mounted(){}created(){this.controller.getLastPlayed(8)}getLastPlayedCover(){const e=this.controller.controller.lastplayed[0];if(e)return this.controller.getCover(e.id)}gotoSong(e){this.appStore.isSelectionActive||this.appStore.openSongIDCard(e)}formatDate(e){return q(e,!0)}};A=Je([f({})],A);const Ke=A,Qe={class:"max-w w-full lg:max-w-full lg:flex"},Ue={class:"h-48 lg:h-auto lg:w-48 2xl:w-80 flex-none bg-cover rounded-tl-3xl rounded-tr-3xl md:rounded-tr-none rounded-bl-none md:rounded-bl-3xl text-center overflow-hidden"},We={class:"truncate w-full bg-white bg-opacity-80 p-4"},Xe=d("div",{class:"text-gray-900 font-bold text-xl mb-2"},"Les derniers écoutés",-1),Ze=["onClick"],et={class:"inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2"};function tt(t,e,o,s,r,a){const n=w("lazy");return i(),c("div",Qe,[S(d("div",Ue,null,512),[[n,t.getLastPlayedCover()]]),d("div",We,[Xe,(i(!0),c(D,null,M(t.controller.controller.lastplayed,l=>(i(),c("div",{key:l.id,class:"truncate",role:"button",onClick:L=>t.gotoSong(l)},[d("span",et,p(t.formatDate(l.playedDate)),1),P(" "+p(l.title),1)],8,Ze))),128))])])}const ot=v(Ke,[["render",tt]]);var rt=Object.defineProperty,st=Object.getOwnPropertyDescriptor,nt=(t,e,o,s)=>{for(var r=s>1?void 0:s?st(e,o):e,a=t.length-1,n;a>=0;a--)(n=t[a])&&(r=(s?n(e,o,r):n(r))||r);return s&&r&&rt(e,o,r),r};let E=class extends h{constructor(){super(...arguments);u(this,"controller",g(()=>b()))}mounted(){_.locale("fr")}created(){}formatDate(e){return _(e).format("D MMM YY")}};E=nt([f({})],E);const lt=E,at={class:"max-w w-full lg:max-w-full lg:flex truncate"},dt=R('<div class="border border-gray-400 lg:border-gray-400 bg-white rounded-b rounded-md p-4 flex flex-col justify-between leading-normal w-full"><div class="mb-0"><div class="text-gray-900 font-bold text-xl mb-2">Statistiques</div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">221</span> Morceaux </div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">21</span> Artistes </div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">17</span> Genres </div><div class="truncate"><span class="inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">2 jours 21 minutes 36 secondes</span> Total musique </div></div></div>',1),it=[dt];function ct(t,e,o,s,r,a){return i(),c("div",at,it)}const ut=v(lt,[["render",ct]]),pt={class:"grid grid-cols-1 xl:grid-cols-2 gap-2 px-2"},vt=B({__name:"Dashboard",setup(t){return(e,o)=>(i(),c("div",pt,[m(Be),m(ae),m(xe),m(Ye),m(ot),m(ut)]))}});export{vt as default};
