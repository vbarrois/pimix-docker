var q=Object.defineProperty;var C=(e,n,o)=>n in e?q(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o;var u=(e,n,o)=>(C(e,typeof n!="symbol"?n+"":n,o),o);import{O as N,S as D,I as B,L as A,P as T,V as j,s as R,A as x,u as F,B as Q,l as _,M as d,Q as p,G as z,_ as M,q as r,b as G,o as i,c as f,d as l,w as J,z as a,t as v,a3 as c,n as I,U}from"./index-b74e3224.js";import{O as H}from"./OptionsIcon-5fedd612.js";import{a as K,S as W,B as X,F as Y,P as Z,N as ee}from"./NotLikedIcon-50ae164a.js";var oe=Object.defineProperty,te=Object.getOwnPropertyDescriptor,ne=(e,n,o,s)=>{for(var t=s>1?void 0:s?te(n,o):n,m=e.length-1,h;m>=0;m--)(h=e[m])&&(t=(s?h(n,o,t):h(t))||t);return s&&t&&oe(n,o,t),t};let g=class extends j{constructor(){super(...arguments);u(this,"controller",R(()=>x()));u(this,"song");u(this,"queueitem");u(this,"playlist");u(this,"appStore",F());u(this,"queueStore",Q())}created(){var o,s;_.isNil((o=this.currentSong)==null?void 0:o.id)||this.controller.loadInfos((s=this.currentSong)==null?void 0:s.id)}get currentSong(){var o;return _.isNil((o=this.queueitem)==null?void 0:o.song)?this.song:this.queueitem.song}get origin(){return _.isNil(this.queueitem)?"":this.queueitem.origin}getThumb(o){return this.controller.getThumb(o).src}togglePopup(){var s;let o=[];this.queueitem&&!((s=this.queueitem)!=null&&s.executed)&&o.push({label:`${this.$t("command.remove")}`,icon:d(()=>p(()=>import("./index-b74e3224.js").then(t=>t.ak),["assets/index-b74e3224.js","assets/index-f7d88844.css"])),action:()=>{this.appStore.removeQueuedItem(this.queueitem.uuid)}}),this.playlist&&o.push({label:`${this.$t("command.remove")}`,icon:d(()=>p(()=>import("./index-b74e3224.js").then(t=>t.ak),["assets/index-b74e3224.js","assets/index-f7d88844.css"])),action:()=>{z.emit("playlist",{action:"remove",song:this.controller.song})}}),this.appStore.openPopupProperties([...o,{label:this.$t("command.addqueue"),icon:d(()=>p(()=>import("./index-b74e3224.js").then(t=>t.ag),["assets/index-b74e3224.js","assets/index-f7d88844.css"])),action:()=>{this.appStore.queueSong(this.controller.song)}},{label:this.$t("command.addnext"),icon:d(()=>p(()=>import("./index-b74e3224.js").then(t=>t.af),["assets/index-b74e3224.js","assets/index-f7d88844.css"])),action:()=>{this.appStore.afterSong(this.controller.song)}},{label:this.$t("command.voteup"),icon:d(()=>p(()=>import("./index-b74e3224.js").then(t=>t.ai),["assets/index-b74e3224.js","assets/index-f7d88844.css"])),action:()=>{this.appStore.voteSong(this.controller.song)}},{label:this.$t("command.playlistadd"),icon:d(()=>p(()=>import("./index-b74e3224.js").then(t=>t.ah),["assets/index-b74e3224.js","assets/index-f7d88844.css"])),action:()=>{this.appStore.openQuickPlaylist(this.controller.song)}}])}};g=ne([N({props:{song:Object,queueitem:Object,playlist:Object},components:{SongCategories:D,NoteIcon:K,ShuffleIcon:W,BrainIcon:X,VoteIcon:B,LikeOnIcon:A,PlaylistIcon:T,ForgotIcon:Y,PreferedIcon:Z,NotLikedIcon:ee,OptionsIcon:H}})],g);const se={class:"flex relative h-full items-center"},re={class:"w-12 h-12 md:w-20 md:h-20 rounded my-auto"},ie={key:0,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2.5",stroke:"currentColor",class:"w-12 h-12 md:w-20 md:h-20 rounded-bl-[30px] rounded-tr-[30px] bg-[color:var(--font--active--transparent)] text-[color:var(--font--light)] absolute"},ae=l("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),le=[ae],ce={class:"flex flex-col pl-2 pr-2 flex-1 min-w-0"},ue={class:"grid grid-cols-1"},de={class:"text-left md:text-xl font-bold truncate"},pe={class:"hidden md:block text-left truncate"},he={class:"flex gap-1"},me={class:"hidden md:block"};function _e(e,n,o,s,t,m){const h=r("NoteIcon"),S=r("LikeOnIcon"),k=r("ShuffleIcon"),y=r("PreferedIcon"),b=r("NotLikedIcon"),P=r("ForgotIcon"),O=r("BrainIcon"),w=r("VoteIcon"),L=r("PlaylistIcon"),$=r("SongCategories"),E=r("OptionsIcon"),V=G("lazy");return i(),f("div",{ref:`songcard-${e.currentSong.id}`,class:"relative flex p-2 __card"},[l("div",se,[J(l("img",re,null,512),[[V,e.getThumb(e.currentSong.id)]]),e.appStore.isSongSelected(e.currentSong)?(i(),f("svg",ie,le)):a("",!0)]),l("div",ce,[l("div",ue,[l("span",de,v(e.controller.title),1),l("span",pe,v(e.controller.album),1)]),l("span",he,[l("div",me,[e.origin=="DJ"?(i(),c(h,{key:0,class:"w-5 h-5"})):a("",!0),e.origin=="favorites"?(i(),c(S,{key:1,class:"w-5 h-5"})):a("",!0),e.origin=="shuffle"?(i(),c(k,{key:2})):a("",!0),e.origin=="safelike"?(i(),c(y,{key:3})):a("",!0),e.origin=="probablynotliked"?(i(),c(b,{key:4})):a("",!0),e.origin=="forgot"?(i(),c(P,{key:5})):a("",!0),e.origin=="discover"?(i(),c(O,{key:6})):a("",!0),e.origin=="vote"?(i(),c(w,{key:7})):a("",!0),e.origin=="playlist"?(i(),c(L,{key:8})):a("",!0)]),I($,{reduced:"true",song:e.controller.song},null,8,["song"])])]),l("div",{class:"flex rounded-none items-center",onClick:n[0]||(n[0]=U(ge=>e.togglePopup(e.song),["stop"]))},[I(E)])],512)}const ye=M(g,[["render",_e]]);export{ye as S};
