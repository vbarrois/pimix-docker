var E=Object.defineProperty;var L=(e,t,o)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var m=(e,t,o)=>(L(e,typeof t!="symbol"?t+"":t,o),o);import{O as I,p as T,af as K,a6 as N,V as F,s as B,ab as D,_ as k,q as _,o as n,c as p,n as g,d as r,t as c,a9 as G,a0 as U,u as z,Y as P,$ as x,w as S,ae as V,F as b,e as h,v as j,z as y}from"./index-044614f3.js";import{O as M}from"./OptionsIcon-9a2a7241.js";import{S as R}from"./SortFiltertBar-f31e8202.js";var q=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,H=(e,t,o,a)=>{for(var s=a>1?void 0:a?Y(t,o):t,d=e.length-1,i;d>=0;d--)(i=e[d])&&(s=(a?i(t,o,s):i(s))||s);return a&&s&&q(t,o,s),s};let A=class extends F{constructor(){super(...arguments);m(this,"controller",B(()=>D()));m(this,"artist")}gotoArtist(){const o=this.artist;this.$router.push({name:"artist",params:{artistids:o.id}})}toggleArtist(){this.controller.saveArtistState(this.artist)}};A=H([I({props:{artist:Object},components:{Toggle:T,StatsGroup:K,ArtistIcon:N}})],A);const J={class:"flex flex-col pl-2 pr-2 flex-1 min-w-0"},Q={class:"text-left md:text-xl font-bold truncate"},W={class:"text-left flex truncate justify-between"},X={class:"flex gap-1 __badge__label"};function Z(e,t,o,a,s,d){const i=_("ArtistIcon"),v=_("StatsGroup"),$=_("Toggle");return n(),p("div",{class:"flex p-2",onClick:t[1]||(t[1]=u=>e.gotoArtist())},[g(i),r("div",J,[r("span",Q,c(e.artist.name),1),r("span",W,[r("span",X,[r("span",null,c(e.artist.yearfrom)+" - "+c(e.artist.yearto),1)])]),g(v,{group:e.artist,reduced:"true"},null,8,["group"])]),r("div",null,[(n(),G($,{key:e.artist.state,modelValue:e.artist.state,"onUpdate:modelValue":t[0]||(t[0]=u=>e.artist.state=u),"true-value":"1","false-value":"0","on-label":"ON","off-label":"OFF",class:"float-right ml-1 mt-4 mb-1 custom-control",onClick:U(e.toggleArtist,["stop"])},null,8,["modelValue","onClick"]))])])}const ee=k(A,[["render",Z]]);var te=Object.defineProperty,oe=Object.getOwnPropertyDescriptor,se=(e,t,o,a)=>{for(var s=a>1?void 0:a?oe(t,o):t,d=e.length-1,i;d>=0;d--)(i=e[d])&&(s=(a?i(t,o,s):i(s))||s);return a&&s&&te(t,o,s),s};let w=class extends F{constructor(){super(...arguments);m(this,"controller",B(()=>D()));m(this,"appStore",z())}created(){this.controller.initFromCookie("artists"),this.controller.getList()}unmounted(){this.controller.saveCookie("artists")}only(o){this.controller.setOnly(o)}except(o){this.controller.setAllExcept(o)}togglePopup(o){this.appStore.openPopupProperties([{label:`${this.$t("library.filtering.only")} ${o.name}`,icon:P(()=>x(()=>import("./OnlyIcon-3aafc312.js"),["assets/OnlyIcon-3aafc312.js","assets/index-044614f3.js","assets/index-f2dd47f5.css"])),action:()=>{this.only(o)}},{label:`${this.$t("library.filtering.allexcept")} ${o.name}`,icon:P(()=>x(()=>import("./AllExcept-185a5584.js"),["assets/AllExcept-185a5584.js","assets/index-044614f3.js","assets/index-f2dd47f5.css"])),action:()=>{this.except(o)}}])}};w=se([I({components:{ArtistCard:ee,SortFilterBar:R,OptionsIcon:M}})],w);const re={class:"flex flex-col w-full"},le={class:"flex justify-center py-1 gap-1 __container__navigation"},ne={class:"__badge__label2"},ae={class:"__badge__label2"},ie={class:"__badge__label2"},pe={key:0,class:"flex justify-center ml-auto mr-auto md:w-[50%] mt-1 mb-1 text-[color:var(--font--button)]"},ce={class:"inline-flex w-[70px] rounded-l-md justify-end px-2 __field__label"},de=["value"],_e={key:0,class:"hidden md:inline-flex w-[140px] justify-end px-2 __field__label whitespace-nowrap"},ue=["value"],fe=["onClick"];function me(e,t,o,a,s,d){var u,O,C;const i=_("SortFilterBar"),v=_("ArtistCard"),$=_("OptionsIcon");return n(),p("div",re,[r("div",le,[r("span",ne,c((u=e.controller)==null?void 0:u.total)+" artistes",1),r("span",ae,c((O=e.controller)==null?void 0:O.active)+" actifs",1),r("span",ie,c((C=e.controller)==null?void 0:C.activesongs)+" morceaux",1)]),g(i,{navigator:e.controller.navigator},null,8,["navigator"]),e.controller.isFiltered?y("",!0):(n(),p("div",pe,[r("span",ce,c(e.$t("library.filtering.sort.page")),1),S(r("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>e.controller.pageIndex=l),class:j(["w-[80px] md:w-[140px] __select__field",{"rounded-r-md":e.controller.sortKey=="name"}])},[(n(!0),p(b,null,h(e.controller.pages,(l,f)=>(n(),p("option",{key:`page-${f}`,value:f},c(l),9,de))),128))],2),[[V,e.controller.pageIndex]]),e.controller.sortKey!="name"?(n(),p("span",_e,c(e.$t("library.filtering.sort.itemsperpage")),1)):y("",!0),e.controller.sortKey!="name"?S((n(),p("select",{key:1,"onUpdate:modelValue":t[1]||(t[1]=l=>e.controller.perPage=l),class:"w-[90px] md:w-[140px] __select__field rounded-r-md"},[(n(),p(b,null,h([10,20,50,100],(l,f)=>r("option",{key:`itemsperpage-${f}`,value:l},c(l),9,ue)),64))],512)),[[V,e.controller.perPage]]):y("",!0)])),(n(),p("div",{key:`list-${e.controller.sortKey}`,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 p-1 gap-1 __container__list"},[(n(!0),p(b,null,h(e.controller.getListByPage(),l=>(n(),p("div",{key:`${l.id}`,class:j(["flex",{disabled:l.state==0}])},[g(v,{class:"truncate w-full __card rounded-l-xl",artist:l},null,8,["artist"]),r("div",{class:"flex __icon__action rounded-r-xl items-center",onClick:f=>e.togglePopup(l)},[g($)],8,fe)],2))),128))]))])}const Ae=k(w,[["render",me]]);export{Ae as default};
